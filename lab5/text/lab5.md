# Лабораторная работа №5

## Задание 1

### Необходимые знания

1. Компилирование программ с помощью gcc.
2. Состояние гонки.
3. Критическая секция.
4. POSIX threads: как создавать, как дожидаться завершения.
5. Как линковаться на бибилотеку `pthread`

Скомпилировать mutex.c без использования и с использованием мьютекса. Объяснить разницу в поведении программы.

### Ресурсы

1. [Туториал по POSIX threads от университета Карнеги-Меллона](https://www.cs.cmu.edu/afs/cs/academic/class/15492-f07/www/pthreads.html#SCHEDULING)
2. [Статья о Race condition [wikipedia]](https://en.wikipedia.org/wiki/Race_condition)
3. [Статья о Critical Section [wikipedia]](https://en.wikipedia.org/wiki/Critical_section)

## Ответ

1. Состояние гонки. Обращение  к "Критической секции" несколькими потоками. Название происходит от того, что потоки обращаются и кто первый тот и получает доступ.
2. Критическая секция. - секция в памяти к которой обращается множество потоков, из-за которой происходит непредсказуемое поведение.
3. POSIX threads работаеют через функции "креейт" и "джоин"
4. Разница между "без использования и с использованием мьютекса" в том что, без него программа обращается к критической секции и происходят сбои.

## Задание 2

### Необходимые знания

1. POSIX threads: как создавать, как дожидаться завершения.
2. Как линковаться на бибилотеку `pthread`
3. Как использовать мьютексы.

Написать программу для паралелльного вычисления факториала по модулю `mod` (`k!`), которая будет принимать на вход следующие параметры (пример: `-k 10 --pnum=4 --mod=10`):

1. `k` - число, факториал которого необходимо вычислить.
2. `pnum` - количество потоков.
3. `mod` - модуль факториала

Для синхронизации результатов необходимо использовать мьютексы.

### Ресурсы

1. [Туториал по POSIX threads от университета Карнеги-Меллона](https://www.cs.cmu.edu/afs/cs/academic/class/15492-f07/www/pthreads.html#SCHEDULING)

## Ответ

1. Мьютексы добавляются как функция "пт_треадов" "pthread_mutex_lock".
2. Я написал функцию, но немного отошел от задания для большей репрезентативности. (модуль дает "плохие" числа, потому я сделал с ним и без). «Паралелил» разделяя вычисление поровну и «раскидывая» их по потокам с помощью «пт_треад».

## Задание 3

### Необходимые знания

1. Состояние deadlock

Напишите программу для демонстрации состояния deadlock.

### Ресурсы

1. [Статья о deadlock [wikipedia]](https://en.wikipedia.org/wiki/Deadlock)

## Ответ

1. Состояние deadlock - состояния блокировки процесса, описывается задачей "с пастой и философами". Несколько процессов блокируют друг-друга.

## Перед тем, как сдавать

Залейте ваш код в ваш репозиторий на GitHub. Убедитесь, что вы не добавляете в репозиторий бинарные файлы (программы, утилиты, библиотеки и т.д.).
